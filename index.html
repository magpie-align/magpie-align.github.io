<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> 
<![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8" lang="en"> 
<![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" height="100%" > <!--<![endif]-->

<head height="100%" >
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-153119114-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());
		gtag('config', 'UA-153119114-2');
	</script> -->
	<script defer src="https://cloud.umami.is/script.js" data-website-id="4c87b436-43cc-43ec-9dd3-5571a9f16e56"></script>

	<title> Magpie: Alignment Data Synthesis from Scratch by Prompting Aligned LLMs with Nothing </title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="UW & AI2 Magpie Team">
	<meta charset="UTF-8">

	<!-- CSS Bootstrap & Custom -->
	<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="css/font-awesome.min.css" rel="stylesheet" media="screen">
	<link href="css/animate.css" rel="stylesheet" media="screen">
    <link href="css/style.css" rel="stylesheet" media="screen">

	<meta property="og:site_name" content="Magpie | Project website">
	<meta property="og:title" content="Magpie|  ">
	<meta name=description content="Magpie: Alignment Data Synthesis from Scratch by Prompting Aligned LLMs with Nothing">
	<meta name=keywords
		content="Magpie, Llama-3, Dataset, Instruction Tuning, Yuchen Lin, Bill Lin, Natural Language Processing, Computational Linguistics, University of Washington, AI2, Allen Institute for AI, Machine Learning, Alignment, LLM">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script language="javascript">
		var ie4 = false; if (document.all) { ie4 = true; }
		function getObject(id) { if (ie4) { return document.all[id]; } else { return document.getElementById(id); } }
		function toggle(link, divId) {
			var lText = link.innerHTML; var d = getObject(divId);
			if (lText == '[show more]') { link.innerHTML = '[hide more]'; d.style.display = 'block'; }
			else { link.innerHTML = '[show more]'; d.style.display = 'none'; }
		}
	</script>
	<script>
		$(document).ready(function () {
			$('#dtBasicExample').DataTable();
			$('.dataTables_length').addClass('bs-select');
		});
	</script>

	<link href="https://unpkg.com/bootstrap-table@1.15.5/dist/bootstrap-table.min.css" rel="stylesheet">

	<script src="https://unpkg.com/bootstrap-table@1.15.5/dist/bootstrap-table.min.js"></script>

	<style type="text/css">
		table.dataTable thead .sorting:after,
		table.dataTable thead .sorting:before,
		table.dataTable thead .sorting_asc:after,
		table.dataTable thead .sorting_asc:before,
		table.dataTable thead .sorting_asc_disabled:after,
		table.dataTable thead .sorting_asc_disabled:before,
		table.dataTable thead .sorting_desc:after,
		table.dataTable thead .sorting_desc:before,
		table.dataTable thead .sorting_desc_disabled:after,
		table.dataTable thead .sorting_desc_disabled:before {
			bottom: .5em;
		}
	</style>
	<!-- <link rel="stylesheet" id="usc-homepage-2017-style-css" href="https://www.usc.edu/wp-content/themes/usc-homepage-2017/assets/css/usc-homepage-2017.css?ver=4.1.0" type="text/css" media="screen,print"> -->
	<link href="style.css" rel="stylesheet" media="screen">
	<!-- MDBootstrap Datatables  -->
	<link href="css/addons/datatables.min.css" rel="stylesheet">
	<!-- MDBootstrap Datatables  -->
	<script type="text/javascript" src="js/addons/datatables.min.js"></script>
	<!-- Favicons -->
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/ico/apple-touch-icon-144-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/ico/apple-touch-icon-114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/ico/apple-touch-icon-72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" href="images/ico/apple-touch-icon-57-precomposed.png">
	<link rel="shortcut icon" href="images/ico/favicon.ico">

	<!-- JavaScripts -->
	<script src="js/jquery-1.10.2.min.js"></script>
	<script src="js/min/modernizr.min.js"></script>
	<!--[if lt IE 8]>
	    <div style=' clear: both; text-align:center; position: relative;'>
            <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" alt="" /></a>
        </div>
		<![endif]-->
	<link href="js/bootstrap-table.min.css" rel="stylesheet">

	<script src="js/bootstrap-table.min.js"></script>

 
	<style>
		a {
			color: #281885;
		}

		.menu-wrapper .main-menu ul.sf-menu>li {
			border-right: 1px solid white;
		}

		body {
			font-family: Helvetica, Arial, Heveltica Neue, sans-serif;
			font-size: 1.8em;
			line-height: 1.6em;
			background: AED6F1;
			color: #777777;
			-webkit-font-smoothing: antialiased;
			overflow-x: hidden; 
		}

		ul {
			margin: 0;
			padding: 0;
			list-style-type: circle;
		}

		li {
			margin-bottom: 0px;
			/* Add space between each list item */
		}

		.section {
			font-size: 22px;
		}

		.btna {
			font-weight: 600;
			color: rgb(195, 0, 255);
		}

		.site-header {
			background-color: white;
			color: black;
			font-size: 14px;
			border-bottom: 3px solid #276be0;
		}

		.site-header a {
			color: #281885;
		} 
		html, body {
        height: 100%;
        margin: 0;
    }
	</style>
</head>

<body height="100%" >

 

	<header class="site-header" id="topsection"">
			
			<div class=" container">
		<div class="main-header">
			<div class="row"> 
				<div class="col-md-12 col-sm-12" id="top" style="text-align: center;">
					<!-- <h1 style="color: #183385"><b>AI2 URIAL</b></em></h1>  -->
					<!-- <h1 style="color: #183385; font-size:xx-large"><b>AI2's WildBench: </h1> -->
					<img src="magpie_logo.png" width="50%" height="100%" class="center" />
			      <h1 style="color: #183385; font-size:x-large;line-height:1.2" class="text-center">Alignment Data Synthesis from Scratch by Prompting Aligned LLMs with Nothing &nbsp;</h1>
					<span
						style="color:#851871; font-size: 14pt; font-family: Roboto, Helvetica, Arial, Heveltica Neue, sans-serif">
						<span class="author-block">
							<a target="_blank" href="https://zhangchenxu.com/">Zhangchen Xu</a><sup>1</sup>,&nbsp;
						</span>
						<span class="author-block">
							<a target="_blank" href="https://www.fqjiang.work/">Fengqing Jiang</a><sup>1</sup>,&nbsp;
						</span>
						<span class="author-block">
							<a target="_blank"
								href="https://luyaoniu.github.io/index.html">Luyao Niu</a><sup>1</sup>,&nbsp;
						</span>
						<span class="author-block">
							<a target="_blank" href="https://yuntiandeng.com/">Yuntian Deng</a><sup>2</sup>,&nbsp;
						</span>
						<br class="visible-lg visible-md"/>
						<span class="author-block">
							<a target="_blank" href="https://people.ece.uw.edu/radha/">Radha Poovendran</a><sup>1</sup>,&nbsp;
						</span>
						<span class="author-block">
							<a target="_blank" href="https://homes.cs.washington.edu/~yejin/">Yejin Choi</a><sup>1,2</sup>,&nbsp;
						</span>
						<span class="author-block">
							<a target="_blank" href="https://yuchenlin.xyz/">Bill Yuchen Lin</a><sup>2</sup>,&nbsp;
						</span>
						<br>
						<img src="static/images/uwlogo.png" width="20" height="20" class="center" />
						<span class="author-block"><sup>1</sup> <b>University of Washington</b></span> &nbsp;&nbsp;
						<img src="static/images/ai2logo.png" width="20" height="20" class="center" />
						<span class="author-block"><sup>2</sup> <b>Allen Institute for AI</b></span> &nbsp;&nbsp;
					</span>
					
					<p style="text-align: center;">
						<!-- <font color="blue"><b>Links:</b></font> &nbsp;  -->
						<!-- <a class="btna" target="_blank" href="https://arxiv.org/abs/2312.01552">[Paper]</a> &nbsp; -->
						<!-- <a target="_blank" href="https://arxiv.org/abs/2312.01552">
							<img src="https://img.shields.io/badge/-Paper-red?style=for-the-badge&logo=arxiv">
						</a> -->
						<!-- <a class="btna" target="_blank" href="https://github.com/magpie-align/magpie">[Code]</a> &nbsp; -->
						<a target="_blank" href="https://github.com/magpie-align/magpie">
							<img src="https://img.shields.io/badge/-Github-purple?style=for-the-badge&logo=github" style="height:35px;">
						</a>

						<a target="_blank" href="https://arxiv.org/abs/2406.08464">
							<img src="https://img.shields.io/badge/-Paper-red?style=for-the-badge&logo=arxiv" style="height:35px;">
						</a>

						<a target="_blank" href="https://huggingface.co/Magpie-Align">
							<img src="https://img.shields.io/badge/-🤗_Dataset-green?style=for-the-badge" style="height:35px;">
						</a>
						
						<a target="_blank" href="https://huggingface.co/spaces/davanstrien/magpie">
							<img src="https://img.shields.io/badge/-🤗_Demo-blue?style=for-the-badge" style="height:35px;">
						</a>

						<a target="_blank" href="https://huggingface.co/spaces/flydust/Chat-with-Magpie">
							<img src="https://img.shields.io/badge/-🤗_Chat Model-orange?style=for-the-badge" style="height:35px;">
						</a>
				  </p>
			  </div>

				<!--
					<div class="col-md-5 col-sm-12 main-header-right visible-md visible-lg">
					<img src="static/images/urial_ai2.logo.png" width="40%" height="40%" class="center" />
					<object width="70%" type="image/svg+xml" data="logo-ai2.svg" class="logo">
						AI2 Logo
					</object>
				</div>

				-->

			</div> <!-- /.row -->
		</div> <!-- /.main-header -->
		</div> <!-- /.container -->

		<div class="menu-wrapper visible-md visible-lg" style="min-height: 0px">
			<div class="container">
				<div class="inner-menu">
					<div class="row" style="text-align: center;">
						<div class="col-md-12 main-menu">
							<nav>
								<ul class="sf-menu sf-js-enabled sf-arrows">
									<li style="background-color: #276be0;"><a
											style="color:white; font-weight: 600; font-size: 18px"
											href="index.html">Home</a></li>
									<li><a style="color:white; font-weight: 600; font-size: 18px;" href="examples.html">Magpie Examples</a></li> 
									<li><a style="color:white; font-weight: 600; font-size: 18px;" href="https://magpie-align-readme.static.hf.space/README.md#dataset-navigation-%F0%9F%A7%AD">Dataset Navigation</a></li> 
									<li><a style="color:white; font-weight: 600; font-size: 18px;" href="https://huggingface.co/spaces/flydust/Chat-with-Magpie">Chat with Magpie</a></li> 
									<!-- <li><a style="color:white; font-weight: 600; font-size: 18px" href="#misc">Misc.</a></li> -->
									<!-- <li ><a href="#blog">Blogs</a></li>  -->
									<!-- <li><a href="#contact">Contact</a></li> -->
								</ul>
							</nav>
						</div> <!-- /.main-menu -->
					</div> <!-- /.row -->
				</div> <!-- /.inner-menu -->
			</div> <!-- /.container -->
		</div> 

	</header> <!-- /.site-header --> 
	


	<div class="container">

		<div class="top-content"> 

			<div class="row">
				<div class="col-md-12">
					<div class="box-content">
						<div class="row">
							<div class="col-md-12" id="about" style="color: rgb(0, 81, 128);">
								<!-- <h2 class="widget-title">(Bill) Yuchen Lin</h2> -->
								<h4 class="widget-title"><span class="section"><a
											href="#intro"><b><em>Introduction</em></b></a></span></h4>  
									<div class="callout-box">										
									❓ &nbsp;<b style="color:#851871">Alignment Data Generation:</b> High-quality alignment data is critical for aligning large language models (LLMs). Is it possible to synthesize high-quality instructions at scale by directly extracting data from advanced aligned LLMs themselves? </b>
									</div>
									<div class="row">
									<div class="col-md-7">
										<div class="callout-box">
											🔍 &nbsp;<b  style="color:#854b18">Conversation Template:</b> A typical input to an aligned LLM contains three key components: the pre-query template, the query, and the post-query template. For instance, an input to Llama-2-chat could be [INST] Hi! [/INST], where [INST] is the pre-query template and [/INST] is the post-query template. These templates are predefined by the creators of the aligned LLMs to ensure the correct prompting of the models.
											We observe that when we only input the pre-query template to aligned LLMs such as Llama-3-Instruct, they self-synthesize a user query due to their auto-regressive nature!
											</a>	 
										</div> 
									<div class="callout-box">
								🐦 &nbsp;<b  style="color:#340fec">Magpie Dataset:</b>
										<b  style="color:#340fec">4M</b> high-quality alignment data extracted from Llama-3 Series with <b  style="color:#340fec">SOTA performance</b>!
										</a>	 
										</div> 
									</div>
									
									<div class="col-md-5">
										<a href="images/comic.png" target="_blank"> 
											<img src="images/comic.png" width="100%" height="100%" class="center" /> </a>
									</div>
				</div>

			</div> <!-- /.col-md-4 -->
		</div>
	</div>

	<div class="row">
		<div class="col-md-12">
			<div class="box-content">
				<div class="row">
					<div class="col-md-12" id="tds">
						<h4 class="widget-title"><span class="section"><a href="tds.html"><b><em>Introduction to Magpie</em></b></a></span></h4>
						<p style="color:black;">
							<b>Magpie</b> is a data synthesis pipeline that generates high-quality alignment data. Magpie <b>does not</b> rely on prompt engineering or seed questions. Instead, it directly constructs instruction data by prompting aligned LLMs with a <b>pre-query template</b> for sampling instructions.<br><br>
							<b>Magpie Pipeline:</b>
						</p>
							<ol style="font-size: large; color: rgb(0, 81, 128)">
								<li><b>Step 1: Instruction Gneration</b>: Magpie crafts an input query in the format of the predefined instruction template of the LLM.
									This query defines only the role of instruction provider (e.g., user), and does not provide any instruction.
									The auto-regressive LLM has been fine-tuned using instruction data in the format of the predefined instruction template.
									Thus, the LLM autonomously generates an instruction when the query crafted by Magpie is given as an input.</li>
								<li><b>Step 2: Response Generation</b>: Magpie sends the instruction to the LLM to generate the responses. </li>

								<div class="col-md-12" style="padding-top:20px;">
									<a href="images/pipeline.png" target="_blank"> 
										<img src="images/pipeline.png" width="100%" height="100%" class="center" /> 
									</a>
								</div>
							</ol>
						<!-- </div> -->
					</div>
				</div>
			</div>
		</div>
	</div> <!-- /.col-md-4 -->
	
	<div class="row">
		<div class="col-md-12">
			<div class="box-content">
				<div class="row">
					<div class="col-md-12" id="eval">
						<h4 class="widget-title" style="margin-bottom: 5px;">
							<span class="section">
								<a href="index.html"><b><em>Magpie-Air and Magpie-Pro Datasets</em></b></a>
							</span>
						</h4>
						
						<p style="color:black; margin-top: 5px; margin-bottom: 10px;"> 
							<b>Built with Meta Llama-3 Series</b>
						</p>
						
						<h4 style="font-weight: 600; margin-top: 10px;"> 
							🤗 HuggingFace: <a href="https://huggingface.co/Magpie-Align" target="_blank" style="color: orange; text-decoration: underline;">https://huggingface.co/magpie-align</a>
						</h4>
						<div class="col-md-12"> 
							<ul>
								<li style="color: #000000;"><b>Magpie-Air (Generated by Llama-3-8B):</b> 
									<a href="https://huggingface.co/datasets/Magpie-Align/Llama-3-Magpie-Air-3M-v0.1" target="_blank">Magpie-Air-3M</a> (full version, unfiltered), 
									<a href="https://huggingface.co/datasets/Magpie-Align/Magpie-Air-300K-Filtered" target="_blank">Magpie-Air-300K-Filtered</a> (filtered version), 
									<a href="https://huggingface.co/datasets/Magpie-Align/Magpie-Air-MT-300K-v0.1" target="_blank">Magpie-Air-MT-300K</a> (multi-turn version). </li>
								<li style="color: #000000;"><b>Magpie-Pro (Generated by Llama-3-70B):</b> 
									<a href="https://huggingface.co/datasets/Magpie-Align/Llama-3-Magpie-Pro-1M-v0.1" target="_blank">Magpie-Pro-1M</a> (full version, unfiltered), 
									<a href="https://huggingface.co/datasets/Magpie-Align/Magpie-Pro-300K-Filtered" target="_blank">Magpie-Pro-300K-Filtered</a> (filtered version), 
									<a href="https://huggingface.co/datasets/Magpie-Align/Magpie-Pro-MT-300K-v0.1" target="_blank">Magpie-Pro-MT-300K</a> (multi-turn version). </li>
							</ul>  
						</div>

					</div>

					<div class="col-md-12">

					</div>
				</div>

			</div>

		</div> 
	</div>

	<div class="row">
		<div class="col-md-12">
			<div class="box-content">
				<div class="row">
					<div class="col-md-12" id="eval">
						<h4 class="widget-title" style="margin-bottom: 5px;">
							<span class="section">
								<a href="index.html"><b><em>Performance of Magpie-Air and Magpie-Pro</em></b></a>
							</span>
						</h4>
						<h4 style="font-weight: 600; margin-top: 10px;"> 
							🤗 HuggingFace Model: <a href="https://huggingface.co/Magpie-Align/Llama-3-8B-Magpie-Pro-SFT-v0.1" target="_blank" style="color: orange; text-decoration: underline;">Magpie-Align/Llama-3-8B-Magpie-Pro-SFT-v0.1</a>
						</h4>
						<div class="col-md-12" style="padding-top:10px;">
							<a href="images/performance.png" target="_blank"> 
								<img src="images/performance.png" width="100%" height="100%" class="center" /> 
							</a>
						</div>

					</div>

					<div class="col-md-12">

					</div>
				</div>

			</div>

		</div> 
	</div>

	<div class="box-content">
	<div class="row">
		<div class="col-md-12" id="misc">
			<h4 class="widget-title"><span><b>Citation </b></span></h4>
			<div style="font-size:12px">
				<pre style="margin-top: 0; line-height: 1.2;">
@article{xu2024magpie,
  title={Magpie: Alignment Data Synthesis from Scratch by Prompting Aligned LLMs with Nothing},
  author={Zhangchen Xu and Fengqing Jiang and Luyao Niu and Yuntian Deng and Radha Poovendran and Yejin Choi and Bill Yuchen Lin},
  journal={ArXiv},
  year={2024},
  volume={abs/2406.08464},
  url={https://api.semanticscholar.org/CorpusID:270391432}
}
				</pre>
			</div>
		</div>
	</div>
	</div>


	<a href="#" id="top-link" onclick="window.scrollTo(0, 0);" class="fa fa-angle-up"></a>

	<!-- JavaScripts -->
	<script src="js/bootstrap.min.js"></script>
	<script src="js/min/plugins.min.js"></script>
	<script src="js/min/custom.min.js"></script>



</body>

</html>